{% extends "questions/base.html" %}

{% block title %}Вопрос №{{ question.id }}{% endblock %}

{% block context %}
    <a href="{% url "questions:questions_list" %}">Все вопросы</a><br>
    <b>ID:</b> {{ question.id }}<br>
    <b>Вопрос:</b> {{ question.name }}<br>
    <b>Текст вопроса:</b> {{ question.text }}<br>
    <b>Автор:</b> {{ question.author }}<br>
    {% if question.author == user %}
        <a href="{% url "questions:question_edit" pk=question.id %}">Редактировать</a><br>
    {% endif %}
    Ответы:<br>
    {% for answer in answers %}
        {{ forloop.counter }}.
        {% if answer.author == request.user %}
            <a href="{% url "questions:answer_edit" pk=answer.id %}">{{ answer.name }}</a>
        {% else %}
            {{ answer.name }}
        {% endif %}
        (с) {{ answer.author }}<br>
    {% endfor %}
    <form action="" method="post">
        {% csrf_token %}
        <label>Ответ: {{ form.name }}</label>
        <div style="display: none">
            {{ form.question }}
            {{ form.author }}
        </div>
        {{ form.errors }}
        <input type="submit" value="Добавить ответ">
    </form>
{% endblock %}
